# Лабораторная работа № 4. Вариант № 2.
## Структура проекта:

    .
    ├── LAB_casino
    │   ├── src/         
    |   |   |── animals/   # Каталог с классами Player и Goose
    |   |   |   |── gooses.py  # Классы гусей
    |   |   |   |── human.py   # Класс игрока
    |   |   |── casinobuild/   # Каталог с классом Casino и Chips
    |   |   |   |── casino.py  # Класс казино
    |   |   |   |── chip.py   # Класс фишек
    |   |   |── collections/   # Каталог с коллекциями
    │   ├── tests/                             # Unit тесты
    │   ├── uv.lock                            
    │   ├── .gitignore                         
    │   ├──.pre-commit-config.yaml             
    │   ├── README.md                         

В начале выполнения программы выполняется подготовка - создание начального количества игроков, гусей, определяются цвета и номиналы фишек и ячейки.

Гуси приходят с нулевым балансом.

## Class Casino
Основной рабочий класс.

**self.PlayersCollection** - коллекция игроков (списковая коллекция объектов класса *Player*)
**self.GeeseCollection** - коллекция гусей (списковая коллекция объектов классов *Goose*, *WarGoose*, *HonkGoose*)
**self.CasinoBank** - балансы игроков, гусей и казино (словарная коллекци: *key:* *id игрока/гуся/'B' - баланс казино*, *value*: *баланс в деньгах*)


### Casino.PlayRound()
Симуляция игры. Проходит в несколько этапов:
1) Игроки случайным образом делают ставки на ячейки. Размер ставки - фишка максимального номинала из имеющихся у игрока;
2) Случайным образом определяется выигрышная ячейка;
3) Фишки проигравших игроков переводятся в деньги и зачисляются на баланс казино.
4) Выплачивается выигрыш победителям - двойной размер ставки.

### Casino.MakeBets()
Игроки делают ставки.

### Casino.CollestLoss(WinCeil)
Сбор ставок со всех ячеек кроме выигрышной. Перевод фишек в деньги и зачисление на баланс казино.

### Casino.PayWinning(WinCeil)
Выплата выигрыша победителям.

### Casino.PlayerBuyChip(player)
Игрок *player* покупает фишку.

### Casino.RenewCasinoBalance(money)
Прибавление к балансу казино *money*. *Money* может принимать отрицательные значения.

### Casino.RenewPlayerBalance(money, player)
Обновление баланса игрока *player* на количество денег *money*.

### Casino.RenewGooseBalance(money, goose)
Обновление баланса гуся *goose* на количество денег *money*.

### Casino.AddPlayer(player)
Добавление игрока *player* в коллекцию игроков **self.PlayersCollection**.

### Casino.AddGoose(goose)
Добавление гулся *goose* в коллекцию **self.GeeseCollection**

### Casino.CallHonkGoose(goose, player)
Вызов гуся *goose*. Крадёт у игрока *player* деньги.

### Casino.CheckPlayers()
Боевые гуси проверяют балансы игроков. Если баланс игрока отрицательный - боевые гуси собираются в стаю, бьют игрока (крадут деньги) и выгоняют из казино.

### Casino.GeeseAttack(player)
Все боевые гуси нападают на игрока *player*


## PlayerCollection
Пользовательская списковая коллекция.

-----
## Player
Класс игрока.

### Player.BuyChip(CHIPS)
Игрок покупает фишку. 

**CHIPS** - коллекция цветов фишек и их номиналов.

Игрок покупает фишку максимально возможного номинала (которую может купить со своим количеством денег).

### Player.GetMoney()
Возвращает баланс игрока

### Player.LooseMoney(money)
Игрок теряет определённое количество денег *money*.


## GooseCollection
Пользовательская коллекция гусей

-----

## Goose
Класс обычного гуся.

**goose_id** для любого гуся состоит из буквы и числа. Число определяется автоматически из переменной const.GOOSE_ID.

* **'G'** - обычный гусь:
* **'W'** - боевой гусь;
* **'H'** - кричащий гусь.

### Goose.StealMoney(money)
Гусь крадёт *money* денег -> зачисляет их себе на баланс.

## WarGoose(Goose)
Класс боевого гуся

### WarGoose.Attack(player)
Атакует игрока *player* - игрок теряет деньги.

## HonkGoose(Goose)
Класс кричащего гуся.

Обладает методом *__call__ * - при вызове гусь крадёт деьнги у игрока.


## Фишки
Система фишек реализована с помощью словарной коллекции **ChipNominal**, в которой хранится цвет и номинал фишки. Цвета и номиналы определяются во время подготовки к симуляции.
Функция **ChipNominals.GetNominal** реализована вместо доступа по ключу, потому что в задании запрещено использование сырых словарей.

Списковая коллекця **ChipList** - хранит список объектов класса *Chip*. Это коллекция фишек имеющихся у игрока.

